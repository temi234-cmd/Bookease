<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Booking Page</title>
  <style>
    /* General */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #111827;
      color: #f9fafb;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    button {
      cursor: pointer;
    }

    /* Header */
    header {
      background-color: #1f2937;
      border-bottom: 1px solid #374151;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    header .container {
      max-width: 1200px;
      margin: auto;
      padding: 0.5rem 1rem;
      display: flex;
      align-items: center;
      height: 60px;
    }
    .back-link {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: #d1d5db;
    }
    .back-link:hover {
      color: #14b8a6;
    }

    /* Layout */
    .container {
    padding-right: 1rem;
      max-width: 1200px;
      margin: auto;
      padding: 2rem 1rem;
    }
    .grid {
      display: grid;
      gap: 2rem;
  align-items: start; 
    }
    @media (min-width: 1024px) {
      .grid-3 {
        grid-template-columns: 2fr 1fr;
      }
    }

    /* Cards / Forms */
    .card {
      background-color: #1f2937;
      border: 1px solid #374151;
      border-radius: 1rem;
      padding: 1.5rem;
    }
    h1, h2, h3 {
      margin: 0 0 0.5rem 0;
    }
    h1 { font-size: 2.25rem; }
    h2 { font-size: 1.5rem; }
    h3 { font-size: 1.25rem; }

    /* Buttons */
     .time-btn, .confirm-btn {
      border: 2px solid #374151;
      border-radius: 0.75rem;
      padding: 0.75rem 1rem;
      background-color: #111827;
      color: #d1d5db;
      transition: all 0.2s;
      width: 100%;
      text-align: left;
    }
    .service-btn.selected, .time-btn.selected {
      border-color: #14b8a6;
      background-color: rgba(20,184,166,0.2);
      color: #14b8a6;
    }
    .service-btn:hover, .time-btn:hover {
      border-color: rgba(20,184,166,0.5);
    }
    /* ===== Select Service Cards ===== */
#servicesContainer {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.25rem;
}

.service-btn {
  background: #172030;
  border: 2px solid #1e293b;
  border-radius: 1.25rem;
  padding: 1rem;
  text-align: left;
  transition: all 0.25s ease;
  margin: 5px;
  /* height: 120px; */
}

.service-btn:hover {
  /* border-color: #14b8a6; */
  transform: translateY(-2px);
}

.service-btn.selected {
  border-color: #14b8a6;
  box-shadow: 0 0 0 1px rgba(20, 184, 166, 0.4);
}

.service-btn h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #ffffff;
  margin-bottom: 0.5rem;
}

.service-btn .duration {
  font-size: 0.95rem;
  color: #94a3b8;
}

.service-btn .price {
  margin-top: 0.75rem;
  font-size: 1.1rem;
  font-weight: 600;
  color: #14b8a6;
}

    .confirm-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 1rem;
      border: none;
      border-radius: 1rem;
      background-color: #14b8a6;
      color: white;
      font-size: 1rem;
      font-weight: bold;
    
    }
    .confirm-btn.disabled {
      background-color: #374151;
      color: #9ca3af;
      cursor: not-allowed;
    }
.time-btn:disabled {
  background-color: #374151;
  color: #9ca3af;
  cursor: not-allowed;
  border-color: #374151;
}

    /* Inputs */
    input {
      width: 90%;
      padding: 0.75rem;
      border-radius: 0.5rem;
      border: 1px solid #374151;
      background-color: #111827;
      color: white;
      margin-bottom: 0.5rem;
    }
    
    /* Booking Summary */
    .summary {
      position: sticky;
      top: 100px;
       height: fit-content;
    }
    .summary-item {
      margin-bottom: 1rem;
    }
    .summary-item p {
      margin: 0.25rem 0;
    }

    /* Calendar */
    input[type="date"] {
      width: 90%;
      padding: 0.75rem;
      border-radius: 0.5rem;
      border: 1px solid #374151;
      background-color: #111827;
      color: white;
  
    }

  </style>
</head>
<body>

<header>
  <div class="container">
    <a href="index.html" class="back-link">&#8592; Back to Home</a>
  </div>
</header>

<div class="container">
  <h1>Book an Appointment</h1>
  <p>Select a service and preferred time</p>

  <div class="grid grid-3">
    <!-- Booking Form -->
    <div>
      <form id="bookingForm" class="card">
        <!-- Service Selection -->
        <div>
          <h2>1. Select Service</h2>
          <div id="servicesContainer"></div>
        </div>

        <!-- Date Selection -->
        <div>
          <h2>2. Select Date</h2>
          <input type="date" id="dateInput" min="" required>
        </div>

        <!-- Time Selection -->
        <div>
          <h2>3. Select Time</h2>
          <div id="timeContainer" style="display:grid;grid-template-columns:repeat(3,1fr);gap:0.5rem;margin-bottom: 1rem;"></div>
        </div>

        <!-- Customer Details -->
        <div>
          <h2>4. Customer Details</h2>
          <input type="text" id="nameInput" placeholder="Full Name *" style="margin-bottom: 1rem;" required>
          <input type="email" id="emailInput" placeholder="Email"  style="margin-bottom: 1rem;"  required>
          <input type="tel" id="phoneInput" placeholder="Phone *"  style="margin-bottom: 1rem;" required>
        </div>

        <button type="submit" id="confirmBtn" class="confirm-btn disabled" disabled>Confirm Booking</button>
      </form>
    </div>

    <!-- Booking Summary -->
    <div class="summary card">
      <h3>Booking Summary</h3>
      <div class="summary-item">
        <p>Service:</p>
        <p id="summaryService">Not selected</p>
      </div>
      <div class="summary-item">
        <p>Date:</p>
        <p id="summaryDate">Not selected</p>
      </div>
      <div class="summary-item">
        <p>Time:</p>
        <p id="summaryTime">Not selected</p>
      </div>
      <div class="summary-item">
        <p>Customer:</p>
        <p id="summaryName">Not provided</p>
      </div>
      <div class="summary-item">
        <p>Price:</p>
        <p id="summaryPrice">-</p>
      </div>
    </div>
  </div>
</div>

<script>
  const services = [
    { id: 'haircut', name: 'Haircut(Male)', duration: '1 hour', price: '$50' },
    { id: 'consultation', name: 'Online Consultation', duration: '30 mins', price: '$80' },
    { id: 'repair', name: 'Repair Service', duration: '2 hours', price: '$120' },
    { id: 'tutoring', name: 'Tutoring Session', duration: '1 hour', price: '$60' },
     { id: 'health', name: 'Health Services', duration: '1 hour', price: '$150' },
     { id: 'Hairdressing', name: 'Hairdressing(Female)', duration: '1 hour', price: '$150' },
  ];

  const timeSlots = [
    '09:00 AM', '10:00 AM', '11:00 AM', '12:00 PM',
    '01:00 PM', '02:00 PM', '03:00 PM', '04:00 PM',
    '05:00 PM', '06:00 PM',
  ];

  const servicesContainer = document.getElementById('servicesContainer');
  const timeContainer = document.getElementById('timeContainer');
  const dateInput = document.getElementById('dateInput');
  const nameInput = document.getElementById('nameInput');
  const emailInput = document.getElementById('emailInput');
  const phoneInput = document.getElementById('phoneInput');
  const confirmBtn = document.getElementById('confirmBtn');

  const summaryService = document.getElementById('summaryService');
  const summaryDate = document.getElementById('summaryDate');
  const summaryTime = document.getElementById('summaryTime');
  const summaryName = document.getElementById('summaryName');
  const summaryPrice = document.getElementById('summaryPrice');

  let selectedService = '';
  let selectedTime = '';

  // Initialize services buttons
  services.forEach(s => {
    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'service-btn';
    btn.innerHTML = `
  <h3>${s.name}</h3>
  <p class="duration">${s.duration}</p>
  <p class="price">${s.price}</p>
`;

    btn.addEventListener('click', () => {
      selectedService = s.id;
      document.querySelectorAll('.service-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      updateSummary();
      validateForm();
    });
    servicesContainer.appendChild(btn);
  });

  // Initialize time buttons
  timeSlots.forEach(t => {
    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'time-btn';
    btn.textContent = t;
    btn.addEventListener('click', () => {
      selectedTime = t;
      document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      updateSummary();
      validateForm();
    });
    timeContainer.appendChild(btn);
  });

  // Set min date to today
  const today = new Date().toISOString().split('T')[0];
  dateInput.min = today;

  // Event listeners
  [nameInput, emailInput, phoneInput].forEach(el => {
    el.addEventListener('input', () => {
      updateSummary();
      validateForm();
    });
  });

  function convertTo24Hour(timeStr) {
  const [time, modifier] = timeStr.split(' ');
  let [hours, minutes] = time.split(':').map(Number);

  if (modifier === 'PM' && hours !== 12) hours += 12;
  if (modifier === 'AM' && hours === 12) hours = 0;

  return { hours, minutes };
}


function updateTimeSlots() {
  const selectedDate = dateInput.value;
  const todayDate = new Date().toISOString().split('T')[0];

  const now = new Date();
  const currentHours = now.getHours();
  const currentMinutes = now.getMinutes();

  document.querySelectorAll('.time-btn').forEach(btn => {
    btn.disabled = false;
    btn.classList.remove('disabled');

    if (selectedDate === todayDate) {
      const { hours, minutes } = convertTo24Hour(btn.textContent);

      if (
        hours < currentHours ||
        (hours === currentHours && minutes <= currentMinutes)
      ) {
        btn.disabled = true;
        btn.classList.add('disabled');

        // If selected time becomes invalid, clear it
        if (selectedTime === btn.textContent) {
          selectedTime = '';
          updateSummary();
        }
      }
    }
  });

  validateForm();
}
dateInput.addEventListener('change', () => {
  updateSummary();
  updateTimeSlots();
});


  function updateSummary() {
    const serviceObj = services.find(s => s.id === selectedService);
    summaryService.textContent = serviceObj ? serviceObj.name : 'Not selected';
    summaryDate.textContent = dateInput.value || 'Not selected';
    summaryTime.textContent = selectedTime || 'Not selected';
    summaryName.textContent = nameInput.value || 'Not provided';
    summaryPrice.textContent = serviceObj ? serviceObj.price : '-';
  }

  function validateForm() {
    const isValid = selectedService && dateInput.value && selectedTime && nameInput.value && emailInput.value && phoneInput.value;
    confirmBtn.disabled = !isValid;
    confirmBtn.classList.toggle('disabled', !isValid);
  }

  // Form submit
  document.getElementById('bookingForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const bookingData = {
      service: services.find(s => s.id === selectedService),
      date: dateInput.value,
      time: selectedTime,
      name: nameInput.value,
      email: emailInput.value,
      phone: phoneInput.value
    };
    sessionStorage.setItem('bookingData', JSON.stringify(bookingData));
   window.location.href = 'confirmation.html';

  });
</script>

</body>
</html>
