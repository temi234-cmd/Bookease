<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Booking Confirmation</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #111827;
      color: #e5e7eb;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    .page {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .card {
      max-width: 720px;
      width: 100%;
      background-color: #1f2937;
      border-radius: 24px;
      padding: 2rem;
      border: 1px solid #374151;
      text-align: center;
    }

    .success-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 1.5rem;
      border-radius: 50%;
      background-color: rgba(34,197,94,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
      color: #4ade80;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: #fff;
    }

    p {
      color: #9ca3af;
    }

    .summary {
      background-color: #111827;
      border-radius: 20px;
      padding: 1.5rem;
      margin: 2rem 0;
      border: 1px solid #374151;
      text-align: left;
    }

    .summary h2 {
      margin-bottom: 1rem;
      color: #fff;
    }

    .row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.75rem;
    }

    .label {
      color: #9ca3af;
    }

    .value {
      color: #e5e7eb;
    }

    .divider {
      margin: 1rem 0;
      border-top: 1px solid #374151;
    }

    .total {
      font-size: 1.5rem;
      color: #2dd4bf;
    }

    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .btn {
      flex: 1;
      padding: 1rem;
      border-radius: 16px;
      font-weight: bold;
      text-align: center;
      cursor: pointer;
      transition: 0.2s;
    }

    .btn-whatsapp {
      background-color: #16a34a;
      color: #fff;
      border: none;
    }

    .btn-whatsapp:hover {
      background-color: #22c55e;
    }

    .btn-edit {
      border: 2px solid #14b8a6;
      color: #14b8a6;
    }

    .btn-edit:hover {
      background-color: rgba(20,184,166,0.1);
    }

    .footer {
      margin-top: 2rem;
      text-align: center;
      color: #9ca3af;
    }
  </style>
</head>
<body>

<div class="page">
  <div class="card">
    <div class="success-icon">✔</div>

    <h1>Booking Ready to Send</h1>
    <p>Your appointment details are ready. Send them via WhatsApp to confirm.</p>

    <div class="summary">
      <h2>Booking Details</h2>

      <div class="row">
        <span class="label">Service:</span>
        <span class="value" id="serviceName"></span>
      </div>

      <div class="row">
        <span class="label">Duration:</span>
        <span class="value" id="serviceDuration"></span>
      </div>

      <div class="row">
        <span class="label">Date:</span>
        <span class="value" id="bookingDate"></span>
      </div>

      <div class="row">
        <span class="label">Time:</span>
        <span class="value" id="bookingTime"></span>
      </div>

      <div class="divider"></div>

      <div class="row">
        <span class="label">Name:</span>
        <span class="value" id="customerName"></span>
      </div>

      <div class="row" id="emailRow">
        <span class="label">Email:</span>
        <span class="value" id="customerEmail"></span>
      </div>

      <div class="row">
        <span class="label">Phone:</span>
        <span class="value" id="customerPhone"></span>
      </div>

      <div class="divider"></div>

      <div class="row">
        <span>Total:</span>
        <span class="total" id="servicePrice"></span>
      </div>
    </div>

    <div class="actions">
      <button class="btn btn-whatsapp" id="sendWhatsapp">
        Send via WhatsApp
      </button>

      <a href="booking.html" class="btn btn-edit">
        Edit Booking
      </a>
    </div>

    <div class="footer">
      You’ll receive confirmation once the service provider accepts your booking.
    </div>
  </div>
</div>

<script>
  const data = sessionStorage.getItem('bookingData');

  if (!data) {
    window.location.href = 'booking.html';
  }

  const booking = JSON.parse(data);

  function formatDate(dateStr) {
    return new Date(dateStr).toLocaleDateString('en-US', {
      month: 'long',
      day: '2-digit',
      year: 'numeric'
    });
  }

  document.getElementById('serviceName').textContent = booking.service.name;
  document.getElementById('serviceDuration').textContent = booking.service.duration;
  document.getElementById('bookingDate').textContent = formatDate(booking.date);
  document.getElementById('bookingTime').textContent = booking.time;
  document.getElementById('customerName').textContent = booking.name;
  document.getElementById('customerPhone').textContent = booking.phone;
  document.getElementById('servicePrice').textContent = booking.service.price;

  if (booking.email) {
    document.getElementById('customerEmail').textContent = booking.email;
  } else {
    document.getElementById('emailRow').style.display = 'none';
  }

  document.getElementById('sendWhatsapp').addEventListener('click', () => {
    const message = `
Hi! I'd like to confirm my booking:

Service: ${booking.service.name}
Date: ${formatDate(booking.date)}
Time: ${booking.time}
Name: ${booking.name}
Phone: ${booking.phone}
Email: ${booking.email || 'N/A'}
    `;

    const phoneNumber = '2349163208899'; 
const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
window.open(url, '_blank');

  });
</script>

</body>
</html>
